<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>SnipShare - View Paste</title>
    <!-- Add highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <!-- Load additional languages -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/css.min.js"></script>
    <!-- Add line numbers plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
<h1>SnipShare</h1>

<div class="info">
    <p>
        <strong>Created:</strong> <span th:text="${#temporals.format(paste.createdAt, 'yyyy-MM-dd HH:mm')}">2023-01-01 12:00</span>
        <br>
        <strong>Expires:</strong> <span th:text="${#temporals.format(paste.expirationDate, 'yyyy-MM-dd HH:mm')}">2023-01-02 12:00</span>
        <br>
        <strong>URL:</strong> <a th:href="@{'/' + ${paste.shortUrl}}"
                                 th:text="${httpServletRequest.requestURL}">URL</a>
    </p>
</div>

<pre><code class="content" th:text="${paste.content}">
    Paste content will be displayed here.
</code></pre>

<script>
    // Initialize highlight.js when the page loads
    document.addEventListener('DOMContentLoaded', function() {
        // Apply syntax highlighting to all <code> elements
        document.querySelectorAll('pre code').forEach(block => {
            hljs.highlightBlock(block);
            // Add line numbers
            hljs.lineNumbersBlock(block);
        });
    });
</script>

<div class="actions">
    <a class="btn" href="/">Create New Paste</a>
</div>

</body>
</html>

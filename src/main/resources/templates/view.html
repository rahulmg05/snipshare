<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>SnipShare - View Paste</title>
    <!-- Add highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <!-- Load additional languages -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/css.min.js"></script>
    <!-- Add line numbers plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --border-color: #dddddd;
            --info-bg: #f8f9fa;
            --content-bg: #f8f9fa;
            --button-bg: #4CAF50;
            --button-hover-bg: #45a049;
            --button-text: #ffffff;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }

        h1 {
            color: var(--text-color);
        }

        .info {
            background-color: var(--info-bg);
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 20px;
            font-size: 14px;
            border: 1px solid var(--border-color);
        }

        pre {
            background-color: var(--content-bg);
            padding: 15px;
            border-radius: 4px;
            border: 1px solid var(--border-color);
            margin: 0;
            overflow-x: auto;
        }

        code.content {
            white-space: pre-wrap;
            font-family: monospace;
            background: transparent;
            padding: 0;
            border: none;
        }

        /* Style for line numbers in highlighted code */
        .hljs-ln-numbers {
            user-select: none;
            text-align: right;
            color: #ccc;
            border-right: 1px solid #CCC;
            vertical-align: top;
            padding-right: 5px;
        }

        .hljs-ln-code {
            padding-left: 10px;
        }

        .actions {
            margin-top: 20px;
        }

        .btn {
            display: inline-block;
            background-color: var(--button-bg);
            color: var(--button-text);
            padding: 8px 15px;
            text-decoration: none;
            border-radius: 4px;
            margin-right: 10px;
        }

        .btn:hover {
            background-color: var(--button-hover-bg);
        }

    </style>
</head>
<body>
<h1>SnipShare</h1>

<div class="info">
    <p>
        <strong>Created:</strong> <span th:text="${#temporals.format(paste.createdAt, 'yyyy-MM-dd HH:mm')}">2023-01-01 12:00</span>
        <br>
        <strong>Expires:</strong> <span th:text="${#temporals.format(paste.expirationDate, 'yyyy-MM-dd HH:mm')}">2023-01-02 12:00</span>
        <br>
        <strong>URL:</strong> <a th:href="@{'/' + ${paste.shortUrl}}"
                                 th:text="${httpServletRequest.requestURL}">URL</a>
    </p>
</div>

<pre><code class="content" th:text="${paste.content}">
    Paste content will be displayed here.
</code></pre>

<script>
    // Initialize highlight.js when the page loads
    document.addEventListener('DOMContentLoaded', function() {
        // Apply syntax highlighting to all <code> elements
        document.querySelectorAll('pre code').forEach(block => {
            hljs.highlightBlock(block);
            // Add line numbers
            hljs.lineNumbersBlock(block);
        });
    });
</script>

<div class="actions">
    <a class="btn" href="/">Create New Paste</a>
</div>

</body>
</html>
